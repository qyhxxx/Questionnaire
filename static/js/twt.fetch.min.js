!function(t){t.twt||(t.twt={});var e=t.twt,n=function(t,e,o){o||(o=Object.keys(t)),e||(e=Array.isArray(t)?[]:{});for(var i=0;i<o.length;i++)t[o[i]]&&(e[o[i]]="object"==typeof t[o[i]]?n(t[o[i]]):t[o[i]]);return e},o=function(t,e){var n,i,s=[];for(n in t)t[n]&&"object"==typeof t[n]?s.push(o(t[n],encodeURIComponent(n))):(n=encodeURIComponent(n),e&&(n=e+"["+n+"]"),i=t[n],i=encodeURIComponent("function"==typeof i?i():i),s.push(n+"="+i));return s.join("&")},i=function(t,e){this.url=t,this.options=e||{}},s=i.prototype;s.set=function(t,e){return this.options[t]=e,this},s.get=function(t){return this.options[t]},s.header=function(t,e){return this.options.headers||(this.options.headers={}),this.options.headers[t]=e,this},s.method=function(t){return this.set("method",t.toUpperCase()),this},s.mode=function(t){return this.set("mode",t),this},s.credentials=function(t){return this.set("credentials",t),this},s.cache=function(t){return this.set("cache",t),this},s.headers=function(t){return this.set("headers",t),this},s.want=function(t){return"json"===t&&(t="application/json"),"html"===t&&(t="text/html"),this.header("Accept",t),this},s.body=function(t,n){if("HEAD"===this.options.method)return this;switch(n||(n=e.fetch.default.bodyFormat),n){case"json":this.set("body",JSON.stringify(t)),this.header("Content-Type","application/json");break;case"urlencoded":this.set("body",o(t)),this.header("Content-Type","application/x-www-form-urlencoded");break;case"raw":default:this.set("body",t)}return this.options.method&&"GET"!==this.options.method||(this.options.method="POST"),this},s.then=function(t,e){return window.fetch(this.url,this.options).then(t,e)},e.fetch=function(t,o){var s={};if(n(e.fetch.default.options,s),window.Request&&t instanceof window.Request){var r=t;t=r.url,n(r,s,["method","mode","credentials","cache"]),o.headers=r.headers.getAll()}else o&&n(o,s);return new i(t,s)},e.fetch.default={bodyFormat:"json",options:{credentials:"same-origin",mode:"same-origin",headers:{Accept:"text/html"}}}}("undefined"!=typeof window?window:this);