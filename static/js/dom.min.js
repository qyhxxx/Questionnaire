!function(e){e.$=function(e,t){return t||(t=e,e=document),e.querySelectorAll(t)},e.$id=function(e){return document.getElementById(e)},e.$el=function(t){var n,i,l;if(t.tagName){if(n=document.createElement(t.tagName),t.className&&(n.className=t.className),t.attributes)for(i in t.attributes)n.setAttribute(i,t.attributes[i]);void 0!==t.html&&(n.innerHTML=t.html)}else n=document.createDocumentFragment();if(t.text&&n.appendChild(document.createTextNode(t.text)),void 0===e.HTMLElement&&(e.HTMLElement=e.Element),t.childs&&t.childs.length)for(l=0;l<t.childs.length;l++)n.appendChild(t.childs[l]instanceof e.HTMLElement?t.childs[l]:e.$el(t.childs[l]));return n},e.$form=function(t){var n={},i={};return e.$(t,"input, textarea, select").forEach(function(e){if("radio"!==e.type&&"checkbox"!==e.type||e.checked){var t,l=e.name.split(".");if("kv"!==e.getAttribute("mode")){for(t=n;l.length>1;)t[l[0]]||(t[l[0]]={}),t=t[l[0]],l.shift();t[l[0]]=e.value}else t[l[0]]||(t[l[0]]={}),i[l[1]]||(i[l[1]]={}),t=i[l[1]],t[l[2]]=e.value,t.k&&t.v&&(n[l[0]][t.k]=t.v)}}),n}}(window);