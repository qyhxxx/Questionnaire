webpackJsonp([9],{"+DdU":function(e,t,n){"use strict";function a(e){n("RIgi")}Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{issetddl:!1,hasnumber:!1,recoveryat:"",ischecked:!1,onceanswer:!1,shareid:"",issupermng:!0,verifiedphone:!1}},methods:{clear:function(){this.onceanswer=!1},clicksave:function(){var e=this;console.log(this.recoveryat);var t=this.hasnumber,n=this.ischecked,a=this.onceanswer;if(this.issetddl)var s=1;else var s=0;if(""===this.recoveryat||null===this.recoveryat)var o="";else var o=Math.floor(this.recoveryat.getTime());if(console.log(o),t=!1===t?0:1,n=!1===n?0:1,a=!1===a?0:1,!1===this.verifiedphone)var i=0;else var i=1;var r=this.$store.getters.getid;console.log({hasnumber:t,recoveryat:o,ischecked:n,onceanswer:a,issetddl:s,verifiedphone:i}),this.$http.post("minequestion/install/"+r,{hasnumber:t,recoveryat:o,ischecked:n,onceanswer:a,issetddl:s,verifiedphone:i}).then(function(t){console.log(t.body),e.$store.commit("savetopic",t.body.questionnaire_data.name),e.$store.commit("savecreater",t.body.questionnaire_data.twt_name),e.$Message.success("已保存设置")})}},computed:{creater:function(){return this.$store.getters.getcreater}},beforeRouteEnter:function(e,t,n){n(function(e){e.$http.get("loginStatus").then(function(t){0===t.body.status?window.location.href="http://survey.twtstudio.com/api/login":e.$http.get("minequestion/install/"+e.$route.params.id).then(function(t){console.log(t.body),1===t.body.questionnaire_data.issetddl?e.issetddl=!0:e.issetddl=!1,1===t.body.questionnaire_data.hasnumber?e.hasnumber=!0:e.hasnumber=!1,1===t.body.questionnaire_data.ischecked?e.ischecked=!0:e.ischecked=!1,1===t.body.questionnaire_data.onceanswer?e.onceanswer=!0:e.onceanswer=!1,1===t.body.issupermng?e.issupermng=!0:e.issupermng=!1,1===t.body.questionnaire_data.verifiedphone?e.verifiedphone=!0:e.verifiedphone=!1,e.recoveryat=t.body.questionnaire_data.recovery_at,e.$store.commit("saveid",e.$route.params.id)})})})}},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"set1"},[n("div",{staticClass:"setwrapper"},[n("div",{staticClass:"setinner"},[n("Row",[n("Col",{attrs:{span:"8","class-name":"settitle"}},[e._v("\n            显示设置\n          ")])],1),e._v(" "),n("Row",[n("Col",{attrs:{offset:"6",span:"12","class-name":"setset"}},[n("i-switch",{model:{value:e.hasnumber,callback:function(t){e.hasnumber=t},expression:"hasnumber"}}),e._v(" "),n("span",[e._v("问卷显示问题编号")])],1)],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"8","class-name":"settitle"}},[e._v("\n            回收设置\n          ")])],1),e._v(" "),n("Row",[n("Col",{attrs:{offset:"6",span:"12","class-name":"setset"}},[n("i-switch",{model:{value:e.issetddl,callback:function(t){e.issetddl=t},expression:"issetddl"}}),e._v(" "),n("span",[e._v("设定回收结束时间")])],1)],1),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.issetddl?n("Row",[n("Col",{attrs:{offset:"6",span:"18","class-name":"setset"}},[n("span",{staticStyle:{width:"48px",height:"24px",display:"inline-block"}}),e._v(" "),n("span",[n("DatePicker",{attrs:{type:"datetime",format:"yyyy-MM-dd",placeholder:"选择日期和时间"},model:{value:e.recoveryat,callback:function(t){e.recoveryat=t},expression:"recoveryat"}})],1)])],1):e._e()],1),e._v(" "),n("Row",[n("Col",{attrs:{offset:"6",span:"12","class-name":"setset"}},[n("i-switch",{on:{"on-change":function(t){e.clear()}},model:{value:e.ischecked,callback:function(t){e.ischecked=t},expression:"ischecked"}}),e._v(" "),n("span",[e._v("答题需要登陆验证")])],1)],1),e._v(" "),e.ischecked?n("Row",[n("Col",{attrs:{offset:"6",span:"12","class-name":"setset"}},[n("i-switch",{model:{value:e.onceanswer,callback:function(t){e.onceanswer=t},expression:"onceanswer"}}),e._v(" "),n("span",[e._v("用户只能回答一次")])],1)],1):e._e(),e._v(" "),e.issupermng&&e.ischecked?n("Row",[n("Col",{attrs:{offset:"6",span:"12","class-name":"setset"}},[n("i-switch",{model:{value:e.verifiedphone,callback:function(t){e.verifiedphone=t},expression:"verifiedphone"}}),e._v(" "),n("span",[e._v("需要手机验证")])],1)],1):e._e(),e._v(" "),n("Row",[n("Col",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{offset:"8",span:"8"}},[n("div",{on:{click:e.clicksave}},[n("Button",{staticStyle:{width:"80px"},attrs:{type:"primary"}},[e._v("确定")])],1)])],1)],1)])])},i=[],r={render:o,staticRenderFns:i},c=r,d=n("VU/8"),l=a,p=d(s,c,!1,l,"data-v-298ef112",null);t.default=p.exports},RIgi:function(e,t,n){var a=n("gbX9");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("392f46e2",a,!0)},gbX9:function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,"\n.fade-enter-active[data-v-298ef112],\n.fade-leave-active[data-v-298ef112] {\n  -webkit-transition: opacity 0.5s;\n  transition: opacity 0.5s;\n}\n.fade-enter[data-v-298ef112],\n.fade-leave-to[data-v-298ef112] {\n  opacity: 0;\n}\n.set1[data-v-298ef112] {\n  height: 100%;\n  background-color: rgba(233,234,238,0.52);\n  position: relative;\n  top: 130px;\n  padding-top: 25px;\n}\n.setwrapper[data-v-298ef112] {\n  max-width: 1095px;\n  height: 100%;\n  margin: 0 auto;\n  padding-top: 35px;\n  padding-bottom: 100px;\n  background-color: #fff;\n}\n.setinner[data-v-298ef112] {\n  width: 500px;\n  margin: 0 auto;\n}\n.settitle[data-v-298ef112] {\n  font-size: 16px;\n  margin: 10px auto;\n}\n.setset span[data-v-298ef112] {\n  margin-left: 14px;\n}\n.setset[data-v-298ef112] {\n  font-size: 14px;\n  margin-bottom: 10px;\n}\n.creator[data-v-298ef112] {\n  position: relative;\n  bottom: 7px;\n  color: #00a1e9;\n}\n.creator11[data-v-298ef112] {\n  position: relative;\n  bottom: 6px;\n  color: #707070;\n}\n.addworker[data-v-298ef112] {\n  color: #00a1e9;\n  cursor: pointer;\n}","",{version:3,sources:["/Users/yangshurui/files/twt/questionnaire/src/components/set1/set1.vue"],names:[],mappings:";AACA;;EAEE,iCAAiC;EACjC,yBAAyB;CAC1B;AACD;;EAEE,WAAW;CACZ;AACD;EACE,aAAa;EACb,yCAAyC;EACzC,mBAAmB;EACnB,WAAW;EACX,kBAAkB;CACnB;AACD;EACE,kBAAkB;EAClB,aAAa;EACb,eAAe;EACf,kBAAkB;EAClB,sBAAsB;EACtB,uBAAuB;CACxB;AACD;EACE,aAAa;EACb,eAAe;CAChB;AACD;EACE,gBAAgB;EAChB,kBAAkB;CACnB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,gBAAgB;EAChB,oBAAoB;CACrB;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,eAAe;CAChB;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,eAAe;CAChB;AACD;EACE,eAAe;EACf,gBAAgB;CACjB",file:"set1.vue",sourcesContent:["\n.fade-enter-active[data-v-298ef112],\n.fade-leave-active[data-v-298ef112] {\n  -webkit-transition: opacity 0.5s;\n  transition: opacity 0.5s;\n}\n.fade-enter[data-v-298ef112],\n.fade-leave-to[data-v-298ef112] {\n  opacity: 0;\n}\n.set1[data-v-298ef112] {\n  height: 100%;\n  background-color: rgba(233,234,238,0.52);\n  position: relative;\n  top: 130px;\n  padding-top: 25px;\n}\n.setwrapper[data-v-298ef112] {\n  max-width: 1095px;\n  height: 100%;\n  margin: 0 auto;\n  padding-top: 35px;\n  padding-bottom: 100px;\n  background-color: #fff;\n}\n.setinner[data-v-298ef112] {\n  width: 500px;\n  margin: 0 auto;\n}\n.settitle[data-v-298ef112] {\n  font-size: 16px;\n  margin: 10px auto;\n}\n.setset span[data-v-298ef112] {\n  margin-left: 14px;\n}\n.setset[data-v-298ef112] {\n  font-size: 14px;\n  margin-bottom: 10px;\n}\n.creator[data-v-298ef112] {\n  position: relative;\n  bottom: 7px;\n  color: #00a1e9;\n}\n.creator11[data-v-298ef112] {\n  position: relative;\n  bottom: 6px;\n  color: #707070;\n}\n.addworker[data-v-298ef112] {\n  color: #00a1e9;\n  cursor: pointer;\n}"],sourceRoot:""}])}});
//# sourceMappingURL=set1.18eee68d4957b0cf3847.js.map